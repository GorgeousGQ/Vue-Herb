"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[786,307,321],{2307:function(t,e,i){i.r(e),i.d(e,{default:function(){return m}});var s=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"container",attrs:{list:t.list}},[e("el-carousel",{attrs:{autoplay:!1,arrow:"auto"}},t._l(t.list.pic,(function(t,i){return e("el-carousel-item",{key:i},[e("img",{staticStyle:{opacity:"1",height:"100%",display:"block",margin:"0 auto"},attrs:{src:"http://8.130.20.53/image"+t,alt:"无法加载"}})])})),1),e("div",{staticClass:"right-root"},[e("div",{staticClass:"article"},[e("div",{staticClass:"article-title"},[t._v(t._s(t.list.title))]),e("div",{staticClass:"article-desc"},[t._v(t._s(t.list.desc))]),e("div",{staticClass:"article-content",domProps:{innerHTML:t._s(t.list.content)}}),e("div",{staticClass:"article-comment"}),e("Comments")],1),e("div",{staticClass:"interactions"},[e("div",{staticClass:"like-root"},[t._m(0),e("div",{staticClass:"likes"},[e("img",{ref:"Like",staticClass:"fa fa-heart-o",staticStyle:{position:"absolute",top:"0px",left:"0",color:"#aaa",opacity:"1","line-height":"30px","font-size":"20px",cursor:"pointer"},attrs:{src:"",alt:""},on:{click:function(e){return t.changeLike()}}}),e("span",{staticStyle:{position:"absolute",left:"25px",top:"3px"}},[t._v(" "+t._s(t.list.likes)+" ")])]),e("div",{staticClass:"comments"},[e("img",{ref:"comments",staticClass:"el-icon-s-comment",staticStyle:{position:"absolute",left:"25px",top:"0px",color:"#aaa",opacity:"1","line-height":"30px","font-size":"23px",cursor:"pointer"},attrs:{src:"",alt:""}})])])])])],1)])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"author"},[e("img",{staticStyle:{opacity:"1",width:"25px",position:"absolute",top:"2px",bottom:"5px","border-radius":"30px",border:"1px #fff solid"},attrs:{src:i(8955),alt:""}}),e("span",{staticStyle:{position:"absolute",top:"5px",left:"35px","font-size":"10px"}},[t._v("Stephen Curry")])])}],n=i(4321),o={props:["list"],data(){return{Like:!1}},components:{Comments:n["default"]},computed:{},mounted(){},methods:{changeLike(t,e){this.Like=!this.Like,0==this.Like?this.$refs.Like.style.color="#aaa":this.$refs.Like.style.color="red"}}},l=o,r=i(1001),c=(0,r.Z)(l,s,a,!1,null,"7a83dc31",null),m=c.exports},2786:function(t,e,i){i.r(e),i.d(e,{default:function(){return v}});var s=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{ref:"navContainer",staticClass:"nav-container"}),e("div",{staticClass:"waterfall-container"},[e("div",{staticClass:"waterfall"},[e("my-waterfall",{attrs:{data:t.getList}})],1),e("div",{staticClass:"waterfallInfo"})])])},a=[],n=function(){var t=this,e=t._self._c;return e("div",[e("waterfall",{attrs:{col:t.col,data:t.data},on:{loadmore:t.loadmore,scroll:t.scroll}},[t._l(t.data,(function(s,a){return e("div",{key:a,staticClass:"cell-item"},[e("img",{key:s.pic[0],attrs:{"lazy-src":"http://8.130.20.53/image"+s.pic[0],alt:"加载错误"},on:{click:function(e){return t.openDialog(s.title,s.articledesc,s.content,s.pic,s.likes)}}}),e("div",{staticClass:"item-body"},[e("div",{staticClass:"item-desc"},[t._v(t._s(s.articledesc))]),e("div",{staticClass:"item-footer"},[e("div",{staticClass:"footer-left"},[e("img",{attrs:{src:i(8955),alt:"",srcset:""}}),e("div",{staticClass:"name"},[t._v("Stephen")])]),e("div",{staticClass:"like"},[e("img",{ref:"Like",refInFor:!0,staticClass:"fa fa-heart",staticStyle:{color:"#aaa"},attrs:{src:"",alt:""},on:{click:function(e){return t.changeLike(s,a)}}}),e("div",{staticClass:"like-total"},[t._v(t._s(s.likes))])])])]),e("el-dialog",{attrs:{visible:t.dialogTableVisible,"modal-append-to-body":!1},on:{"update:visible":function(e){t.dialogTableVisible=e}}},[e("MainInfo",{attrs:{list:t.currentArticle}})],1)],1)}))],2)],1)},o=[],l=i(2307),r={components:{MainInfo:l["default"]},props:{data:{type:Array,default:()=>[]}},computed:{currentArticle(){return this.currentArticle}},data(){return{col:5,dialogTableVisible:!1,currentArticle:[],Like:!1}},computed:{itemWidth(){return document.documentElement.clientWidth/375*69},gutterWidth(){return document.documentElement.clientWidth/375*4.5}},methods:{openDialog(t,e,i,s,a){this.dialogTableVisible=!0,this.currentArticle={title:t,articledesc:e,content:i,pic:s,likes:a},this.$store.state.currentArticle=this.currentArticle,console.log(this.currentArticle)},changeLike(t,e){this.Like=!this.Like,0==this.Like?this.$refs.Like[e].style.color="#aaa":(this.$refs.Like[e].style.color="red",t.like++)},scroll(t){},loadmore(t){console.log("加载更多")}}},c=r,m=i(1001),d=(0,m.Z)(c,n,o,!1,null,"11b23713",null),u=d.exports,p={components:{myWaterfall:u},data(){return{list:[],input:""}},created(){window.addEventListener("scroll",this.waterFallhandleScroll)},mounted(){this.init(),this.input=this.$route.query.input||""},computed:{getList(){return this.$store.state.list}},methods:{init(){this.$axios.post("/api/SearchArticlesInfo",{input:this.input,list:this.list}).then((t=>{this.$store.state.list=t.data.data}))},waterFallhandleScroll(){window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop},waterfallbeforeDestroy(){window.removeEventListener("scroll",this.waterFallhandleScroll)}}},h=p,f=(0,m.Z)(h,s,a,!1,null,"26ac9eca",null),v=f.exports},4321:function(t,e,i){i.r(e),i.d(e,{default:function(){return m}});var s=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"margin-top":"50px"}},[t._m(0),e("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.hideReplyBtn,expression:"hideReplyBtn"}],staticClass:"my-reply",on:{click:t.inputFocus}},[e("el-avatar",{staticClass:"header-img",attrs:{size:35,src:t.myHeader}}),e("div",{staticClass:"reply-info"},[e("div",{staticClass:"reply-input",attrs:{tabindex:"0",contenteditable:"true",id:"replyInput",spellcheck:"false",placeholder:"说点什么..."},on:{focus:t.showReplyBtn,input:function(e){return t.onDivInput(e)}}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.btnShow,expression:"btnShow"}],staticClass:"reply-btn-box"},[e("el-button",{staticClass:"reply-btn",attrs:{size:"medium",type:"primary"},on:{click:t.sendComment}},[t._v("发表评论")])],1)],1),t._l(t.comments,(function(i,s){return e("div",{key:s,staticClass:"author-title reply-father"},[e("el-avatar",{staticClass:"header-img",attrs:{size:30,src:i.headImg}}),e("div",{staticClass:"author-info"},[e("span",{staticClass:"author-name"},[t._v(t._s(i.name))]),e("span",{staticClass:"author-time"},[t._v(t._s(i.time))])]),e("div",{staticClass:"icon-btn"},[e("span",{on:{click:function(e){return t.showReplyInput(s,i.name,i.id)}}},[e("i",{staticClass:"iconfont el-icon-s-comment"}),t._v(t._s(i.commentNum))]),e("i",{staticClass:"iconfont fa fa-heart-o"}),t._v(t._s(i.like)+" ")]),e("div",{staticClass:"talk-box"},[e("p",[e("span",{staticClass:"reply"},[t._v(t._s(i.comment))])])]),e("div",{staticClass:"reply-box"},t._l(i.reply,(function(i,a){return e("div",{key:a,staticClass:"author-title"},[e("el-avatar",{staticClass:"header-img",attrs:{size:30,src:i.fromHeadImg}}),e("div",{staticClass:"author-info"},[e("span",{staticClass:"author-name"},[t._v(t._s(i.from))]),e("span",{staticClass:"author-time"},[t._v(t._s(i.time))])]),e("div",{staticClass:"icon-btn"},[e("span",{on:{click:function(e){return t.showReplyInput(s,i.from,i.id)}}},[e("i",{staticClass:"iconfont el-icon-s-comment"}),t._v(t._s(i.commentNum))]),e("i",{staticClass:"iconfont fa fa-heart-o"}),t._v(t._s(i.like)+" ")]),e("div",{staticClass:"talk-box"},[e("p",[e("span",[t._v("回复 "+t._s(i.to)+":")]),e("span",{staticClass:"reply"},[t._v(t._s(i.comment))])])]),e("div",{staticClass:"reply-box"})],1)})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t._inputShow(s),expression:"_inputShow(i)"}],staticClass:"my-reply my-comment-reply"},[e("el-avatar",{staticClass:"header-img",attrs:{size:40,src:t.myHeader}}),e("div",{staticClass:"reply-info"},[e("div",{staticClass:"reply-input reply-comment-input",attrs:{tabindex:"0",contenteditable:"true",spellcheck:"false",placeholder:"输入评论..."},on:{input:function(e){return t.onDivInput(e)}}})]),e("div",{staticClass:"reply-btn-box"},[e("el-button",{staticClass:"reply-btn",attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.sendCommentReply(s,t.j)}}},[t._v("发表评论")])],1)],1)],1)}))],2)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title"},[e("h2",{staticStyle:{padding:"5px","text-align":"center","font-size":"13px"}},[t._v("说点什么...")]),e("hr",{staticStyle:{margin:"5px 0"}})])}];i(7658);const n={bind(t,e,i){function s(i){if(t.contains(i.target))return!1;e.expression&&e.value(i)}t.vueClickOutside=s,document.addEventListener("click",s)},update(){},unbind(t,e){document.removeEventListener("click",t.vueClickOutside),delete t.vueClickOutside}};var o={name:"ArticleComment",data(){return{btnShow:!0,index:"0",replyComment:"",myName:this.$store.state.userInfo.nickname,myHeader:i(7322),myId:19870621,to:"",toId:-1,comments:[{name:"Luka Doncic",id:19870621,headImg:i(8955),comment:"明天 LA Lakers 主场迎战 Golden Warriors,欢迎大家观看直播！",time:"2019年9月16日 18:43",commentNum:2,like:15,inputShow:!1,reply:[{from:"Lebron James",fromId:19891221,fromHeadImg:"https://ae01.alicdn.com/kf/H94c78935ffa64e7e977544d19ecebf06L.jpg",to:"Luca Doncic",toId:19870621,comment:"湖人总冠军！詹皇带领 LA 夺冠！",time:"2019年9月16日 18:43",commentNum:1,like:15,inputShow:!1},{from:"Guo Qian",fromId:1123,fromHeadImg:i(7322),to:"Luca Doncic",toId:19870621,comment:"勇士总冠军啊啊啊！库里加油啊！",time:"2019年9月16日 18:43",commentNum:0,like:5,inputShow:!1}]},{name:"Lebron James",id:19891221,headImg:"https://ae01.alicdn.com/kf/H94c78935ffa64e7e977544d19ecebf06L.jpg",comment:"大家一起关注 NBA 季后赛啊",time:"2019年9月16日 18:43",commentNum:1,like:5,inputShow:!1,reply:[{from:"Stephen Curry",fromId:19870621,fromHeadImg:"https://ae01.alicdn.com/kf/Hd60a3f7c06fd47ae85624badd32ce54dv.jpg",to:"Lebron James",toId:19891221,comment:"明天一定是一场精彩的比赛！",time:"2019年9月16日 18:43",commentNum:25,like:5,inputShow:!1}]},{name:"Gu LingLin",id:20190830,headImg:"https://ae01.alicdn.com/kf/Hdd856ae4c81545d2b51fa0c209f7aa28Z.jpg",comment:"LeBron James continues to lead the Los Angeles Lakers to the championship!",time:"2019年9月16日 18:43",commentNum:0,like:5,inputShow:!1,reply:[]}]}},directives:{clickoutside:n},methods:{inputFocus(){},showReplyBtn(){},hideReplyBtn(){},showReplyInput(t,e,i){this.comments[this.index].inputShow=!1,this.index=t,this.comments[t].inputShow=!0,this.to=e,this.toId=i},_inputShow(t){return this.comments[t].inputShow},sendComment(){if(this.replyComment){let t={},e=document.getElementById("replyInput"),i=(new Date).getTime(),s=this.dateStr(i);t.name=this.myName,t.comment=this.replyComment,t.headImg=this.myHeader,t.time=s,t.commentNum=0,t.like=0,this.comments.push(t),this.replyComment="",e.innerHTML=""}else this.$message({showClose:!0,type:"warning",message:"评论不能为空"})},sendCommentReply(t,e){if(this.replyComment){let e={},i=(new Date).getTime(),s=this.dateStr(i);e.from=this.myName,e.to=this.to,e.fromHeadImg=this.myHeader,e.comment=this.replyComment,e.time=s,e.commentNum=0,e.like=0,this.comments[t].reply.push(e),this.replyComment="",document.getElementsByClassName("reply-comment-input")[t].innerHTML=""}else this.$message({showClose:!0,type:"warning",message:"评论不能为空"})},onDivInput:function(t){this.replyComment=t.target.innerHTML},dateStr(t){var e,i=(new Date).getTime();if(i=parseInt((i-t)/1e3),i<600)return"刚刚";if(i<3600&&i>=600)return e=Math.floor(i/60),e+"分钟前";if(i<86400&&i>=3600)return e=Math.floor(i/60/60),e+"小时前";if(i<2592e3&&i>=86400)return e=Math.floor(i/60/60/24),e+"天前";t=new Date(parseInt(t));return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}}},l=o,r=i(1001),c=(0,r.Z)(l,s,a,!1,null,"60f08489",null),m=c.exports},8955:function(t,e,i){t.exports=i.p+"img/1.f8852f8f.png"},7322:function(t,e,i){t.exports=i.p+"img/loading.0e35199e.gif"}}]);
//# sourceMappingURL=786.6ec42545.js.map
"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[353,68],{2916:function(t,e,s){s.r(e),s.d(e,{default:function(){return u}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"min-width":"1500px"}},[e("div",{ref:"navContainer",staticClass:"nav-container"}),e("div",{staticClass:"root"},[e("div",{staticClass:"book wow fadeInLeft"},[t._m(0),e("div",{staticClass:"content1"}),e("div",{staticClass:"content2"}),e("div",{staticClass:"content3"}),t._l(t.herbList,(function(s,i){return e("div",{directives:[{name:"show",rawName:"v-show",value:i===t.activeIndex,expression:"index === activeIndex"}],key:i,staticClass:"content"},[e("div",{staticClass:"article-content",domProps:{innerHTML:t._s(s.content)}}),e("div",{directives:[{name:"show",rawName:"v-show",value:t.herbListLength>1,expression:"herbListLength>1"}],staticClass:"prev",on:{click:function(e){return t.prevBtn(i)}}},[e("i",{staticClass:"fa fa-angle-left",staticStyle:{width:"100%"}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.herbListLength>1,expression:"herbListLength>1"}],staticClass:"next",on:{click:function(e){return t.nextBtn(i)}}},[e("i",{staticClass:"fa fa-angle-right",staticStyle:{width:"100%"}})])])})),e("div",{staticClass:"content3"})],2),e("div",{staticClass:"search-container"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.input,expression:"input"}],attrs:{type:"text",placeholder:"输入草药名称或您的症状 如：头痛、风湿等..."},domProps:{value:t.input},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchFn()},input:function(e){e.target.composing||(t.input=e.target.value)}}}),e("button",{attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.searchFn()}}},[e("i",{staticClass:"el-icon-search"})]),e("div",{staticClass:"search-link"},[t._v(" 未搜索到想要的中草药/药方？ "),e("router-link",{attrs:{to:"aboutus"}},[t._v("前往补充 ->")])],1),e("div",{staticClass:"herbTypeList-container"},[e("div",{staticClass:"herbTypeList",on:{click:function(e){return t.showHerbList("根茎类中药材")}}},[e("a",[t._v("根茎类中草药")])]),e("div",{staticClass:"herbTypeList",on:{click:function(e){return t.showHerbList("果实/种子类中药材")}}},[e("a",[t._v("果实/种子类中草药")])]),e("div",{staticClass:"herbTypeList",on:{click:function(e){return t.showHerbList("花类中药材")}}},[e("a",[t._v("花类中草药")])]),e("div",{staticClass:"herbTypeList",on:{click:function(e){return t.showHerbList("枝叶/树皮类中药材")}}},[e("a",[t._v("枝叶/树皮类中草药")])]),e("div",{staticClass:"herbTypeList",on:{click:function(e){return t.showHerbList("藤木类中药材")}}},[e("a",[t._v("藤木类中草药")])]),e("div",{staticClass:"herbTypeList",on:{click:function(e){return t.showHerbList("全草类中药材")}}},[e("a",[t._v("全草类中草药")])]),e("div",{staticClass:"herbTypeList",on:{click:function(e){return t.showHerbList("矿物类中药材")}}},[e("a",[t._v("矿物类中草药")])]),e("div",{staticClass:"herbTypeList",on:{click:function(e){return t.showHerbList("动物类中药材")}}},[e("a",[t._v("动物类中草药")])]),e("div",{staticClass:"herbTypeList",on:{click:function(e){return t.showHerbList("菌藻类中药材")}}},[e("a",[t._v("菌藻类中草药")])]),e("div",{staticClass:"herbTypeList",on:{click:function(e){return t.showHerbList("其它中药材")}}},[e("a",[t._v("其它中草药")])]),e("transition",{attrs:{name:"fade"}},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.listVisiable,expression:"listVisiable"}],staticClass:"herbTypeList-Info wow fadeInRight"},[e("h2",{staticStyle:{color:"#614816","font-family":"'xingkai'","text-align":"center"}},[t._v(t._s(this.herbtype))]),t._l(t.typeHerbList,(function(s,i){return e("span",{key:i,attrs:{href:""}},[t._v(t._s(s.herbname))])}))],2)])],1)])]),e("div",{staticClass:"chinaHerbMap"},[e("ChinaMap",{ref:"chinamap",attrs:{list:t.MapList}})],1)])},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"cover"},[e("span",[t._v("本草纲目")])])}],n=(s(7658),s(6818)),r=s(5391),c={data(){return{herbList:[],typeHerbList:[],herbListLength:"",input:"",state:"",activeIndex:0,herbtype:"",listVisiable:!1,MapList:[]}},components:{ChinaMap:r["default"]},mounted(){this.$nextTick((()=>{let t=new n.WOW({live:!1});t.init()}))},methods:{searchFn(){this.$axios.post("/api/SearchHerbInfo",{input:this.input}).then((t=>{if(200==t.status){this.herbList=t.data.data;let e=t.data.data[0].city,s=e.split(","),i=s;console.log(i);let a=t.data.data[0].value,n=a.split(","),r=n;console.log(r);let c=[];i.forEach(((t,e)=>{c.city=i[e],c.value=r[e],c.push({name:c.city,value:+c.value})})),this.$store.state.mapList=c.slice(0,c.length),this.herbListLength=t.data.data.length,this.$message({type:"success",message:"已匹配到相关资料，请打开书本查看"})}else 201==t.status?this.$message({type:"warning",message:"抱歉，没有搜索到相关中药材！"}):this.$message({type:"danger",message:"搜索失败，请稍后重试！"})}))},prevBtn(){0!=this.activeIndex&&this.activeIndex--},nextBtn(){this.activeIndex<this.herbList.length-1&&this.activeIndex++},querySearch(t,e){var s=this.herbList,i=t?s.filter(this.createFilter(t)):s;e(i)},createFilter(t){return e=>0===e.value.toLowerCase().indexOf(t.toLowerCase())},handleSelect(t){console.log(t)},showHerbList(t){this.listVisiable=!0,this.$axios.post("/api/getTypeHerb",{herbtype:t}).then((t=>{200==t.status&&(this.typeHerbList=t.data.data,this.herbtype=t.data.data[0].herbtype)}))}}},o=c,l=s(1001),h=(0,l.Z)(o,i,a,!1,null,"c38adb70",null),u=h.exports}}]);
//# sourceMappingURL=353.aa2de99b.js.map
"use strict";(self["webpackChunkapp"]=self["webpackChunkapp"]||[]).push([[321],{4321:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var i=function(){var t=this,e=t._self._c;return e("div",{staticStyle:{"margin-top":"50px"}},[t._m(0),e("div",{directives:[{name:"clickoutside",rawName:"v-clickoutside",value:t.hideReplyBtn,expression:"hideReplyBtn"}],staticClass:"my-reply",on:{click:t.inputFocus}},[e("el-avatar",{staticClass:"header-img",attrs:{size:35,src:t.myHeader}}),e("div",{staticClass:"reply-info"},[e("div",{staticClass:"reply-input",attrs:{tabindex:"0",contenteditable:"true",id:"replyInput",spellcheck:"false",placeholder:"说点什么..."},on:{focus:t.showReplyBtn,input:function(e){return t.onDivInput(e)}}})]),e("div",{directives:[{name:"show",rawName:"v-show",value:t.btnShow,expression:"btnShow"}],staticClass:"reply-btn-box"},[e("el-button",{staticClass:"reply-btn",attrs:{size:"medium",type:"primary"},on:{click:t.sendComment}},[t._v("发表评论")])],1)],1),t._l(t.comments,(function(s,i){return e("div",{key:i,staticClass:"author-title reply-father"},[e("el-avatar",{staticClass:"header-img",attrs:{size:30,src:s.headImg}}),e("div",{staticClass:"author-info"},[e("span",{staticClass:"author-name"},[t._v(t._s(s.name))]),e("span",{staticClass:"author-time"},[t._v(t._s(s.time))])]),e("div",{staticClass:"icon-btn"},[e("span",{on:{click:function(e){return t.showReplyInput(i,s.name,s.id)}}},[e("i",{staticClass:"iconfont el-icon-s-comment"}),t._v(t._s(s.commentNum))]),e("i",{staticClass:"iconfont fa fa-heart-o"}),t._v(t._s(s.like)+" ")]),e("div",{staticClass:"talk-box"},[e("p",[e("span",{staticClass:"reply"},[t._v(t._s(s.comment))])])]),e("div",{staticClass:"reply-box"},t._l(s.reply,(function(s,n){return e("div",{key:n,staticClass:"author-title"},[e("el-avatar",{staticClass:"header-img",attrs:{size:30,src:s.fromHeadImg}}),e("div",{staticClass:"author-info"},[e("span",{staticClass:"author-name"},[t._v(t._s(s.from))]),e("span",{staticClass:"author-time"},[t._v(t._s(s.time))])]),e("div",{staticClass:"icon-btn"},[e("span",{on:{click:function(e){return t.showReplyInput(i,s.from,s.id)}}},[e("i",{staticClass:"iconfont el-icon-s-comment"}),t._v(t._s(s.commentNum))]),e("i",{staticClass:"iconfont fa fa-heart-o"}),t._v(t._s(s.like)+" ")]),e("div",{staticClass:"talk-box"},[e("p",[e("span",[t._v("回复 "+t._s(s.to)+":")]),e("span",{staticClass:"reply"},[t._v(t._s(s.comment))])])]),e("div",{staticClass:"reply-box"})],1)})),0),e("div",{directives:[{name:"show",rawName:"v-show",value:t._inputShow(i),expression:"_inputShow(i)"}],staticClass:"my-reply my-comment-reply"},[e("el-avatar",{staticClass:"header-img",attrs:{size:40,src:t.myHeader}}),e("div",{staticClass:"reply-info"},[e("div",{staticClass:"reply-input reply-comment-input",attrs:{tabindex:"0",contenteditable:"true",spellcheck:"false",placeholder:"输入评论..."},on:{input:function(e){return t.onDivInput(e)}}})]),e("div",{staticClass:"reply-btn-box"},[e("el-button",{staticClass:"reply-btn",attrs:{size:"medium",type:"primary"},on:{click:function(e){return t.sendCommentReply(i,t.j)}}},[t._v("发表评论")])],1)],1)],1)}))],2)},n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"title"},[e("h2",{staticStyle:{padding:"5px","text-align":"center","font-size":"13px"}},[t._v("说点什么...")]),e("hr",{staticStyle:{margin:"5px 0"}})])}];s(7658);const a={bind(t,e,s){function i(s){if(t.contains(s.target))return!1;e.expression&&e.value(s)}t.vueClickOutside=i,document.addEventListener("click",i)},update(){},unbind(t,e){document.removeEventListener("click",t.vueClickOutside),delete t.vueClickOutside}};var o={name:"ArticleComment",data(){return{btnShow:!0,index:"0",replyComment:"",myName:this.$store.state.userInfo.nickname,myHeader:s(7322),myId:19870621,to:"",toId:-1,comments:[{name:"Luka Doncic",id:19870621,headImg:s(8955),comment:"明天 LA Lakers 主场迎战 Golden Warriors,欢迎大家观看直播！",time:"2019年9月16日 18:43",commentNum:2,like:15,inputShow:!1,reply:[{from:"Lebron James",fromId:19891221,fromHeadImg:"https://ae01.alicdn.com/kf/H94c78935ffa64e7e977544d19ecebf06L.jpg",to:"Luca Doncic",toId:19870621,comment:"湖人总冠军！詹皇带领 LA 夺冠！",time:"2019年9月16日 18:43",commentNum:1,like:15,inputShow:!1},{from:"Guo Qian",fromId:1123,fromHeadImg:s(7322),to:"Luca Doncic",toId:19870621,comment:"勇士总冠军啊啊啊！库里加油啊！",time:"2019年9月16日 18:43",commentNum:0,like:5,inputShow:!1}]},{name:"Lebron James",id:19891221,headImg:"https://ae01.alicdn.com/kf/H94c78935ffa64e7e977544d19ecebf06L.jpg",comment:"大家一起关注 NBA 季后赛啊",time:"2019年9月16日 18:43",commentNum:1,like:5,inputShow:!1,reply:[{from:"Stephen Curry",fromId:19870621,fromHeadImg:"https://ae01.alicdn.com/kf/Hd60a3f7c06fd47ae85624badd32ce54dv.jpg",to:"Lebron James",toId:19891221,comment:"明天一定是一场精彩的比赛！",time:"2019年9月16日 18:43",commentNum:25,like:5,inputShow:!1}]},{name:"Gu LingLin",id:20190830,headImg:"https://ae01.alicdn.com/kf/Hdd856ae4c81545d2b51fa0c209f7aa28Z.jpg",comment:"LeBron James continues to lead the Los Angeles Lakers to the championship!",time:"2019年9月16日 18:43",commentNum:0,like:5,inputShow:!1,reply:[]}]}},directives:{clickoutside:a},methods:{inputFocus(){},showReplyBtn(){},hideReplyBtn(){},showReplyInput(t,e,s){this.comments[this.index].inputShow=!1,this.index=t,this.comments[t].inputShow=!0,this.to=e,this.toId=s},_inputShow(t){return this.comments[t].inputShow},sendComment(){if(this.replyComment){let t={},e=document.getElementById("replyInput"),s=(new Date).getTime(),i=this.dateStr(s);t.name=this.myName,t.comment=this.replyComment,t.headImg=this.myHeader,t.time=i,t.commentNum=0,t.like=0,this.comments.push(t),this.replyComment="",e.innerHTML=""}else this.$message({showClose:!0,type:"warning",message:"评论不能为空"})},sendCommentReply(t,e){if(this.replyComment){let e={},s=(new Date).getTime(),i=this.dateStr(s);e.from=this.myName,e.to=this.to,e.fromHeadImg=this.myHeader,e.comment=this.replyComment,e.time=i,e.commentNum=0,e.like=0,this.comments[t].reply.push(e),this.replyComment="",document.getElementsByClassName("reply-comment-input")[t].innerHTML=""}else this.$message({showClose:!0,type:"warning",message:"评论不能为空"})},onDivInput:function(t){this.replyComment=t.target.innerHTML},dateStr(t){var e,s=(new Date).getTime();if(s=parseInt((s-t)/1e3),s<600)return"刚刚";if(s<3600&&s>=600)return e=Math.floor(s/60),e+"分钟前";if(s<86400&&s>=3600)return e=Math.floor(s/60/60),e+"小时前";if(s<2592e3&&s>=86400)return e=Math.floor(s/60/60/24),e+"天前";t=new Date(parseInt(t));return t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate()}}},m=o,r=s(1001),c=(0,r.Z)(m,i,n,!1,null,"60f08489",null),l=c.exports},8955:function(t,e,s){t.exports=s.p+"img/1.f8852f8f.png"},7322:function(t,e,s){t.exports=s.p+"img/loading.0e35199e.gif"}}]);
//# sourceMappingURL=321.c981e2e3.js.map